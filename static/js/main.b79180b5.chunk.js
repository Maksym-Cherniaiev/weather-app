(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(49)},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),i=a.n(c);a(26),a(27),a(28);var s=function(){return r.a.createElement("header",{className:"head-container"},r.a.createElement("h1",{className:"head_bar-title"},"WEATHER APP"))},o=(a(29),a(2)),l=a.n(o),u=a(9),m=a(3),h=a(4),f=a(7),p=a(5),v=a(8),d=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(f.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).getValue=function(e){void 0!==e&&"Enter"===e.key&&a.props.onSearchChange(e.target.value)},a}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"bar"},r.a.createElement("input",{className:"bar_search",onKeyDown:this.getValue,type:"text",placeholder:"Enter a city"})))}}]),t}(n.Component);var E=function(e){var t=e.name,a=e.icon,n=e.alt;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"title"},"current weather in location"),r.a.createElement("h2",null,function(e){if("string"===typeof e)return e.toUpperCase()}(t)),r.a.createElement("div",{className:"weather-icon"},r.a.createElement("img",{className:"weather-icon_image",src:a,alt:n})))};var b=function(e){var t=e.temp_c,a=e.temp_f;return r.a.createElement("section",{className:"temp"},r.a.createElement("span",{className:"temp_current"},"tempereture C: ",t),r.a.createElement("span",{className:"temp_feel"},"tempereture F: ",a))};var g=function(e){var t=e.humidity,a=e.condition,n=e.pressure;return r.a.createElement("section",{className:"extra"},r.a.createElement("span",{className:"extra_humidity"},"humidity: ",t),r.a.createElement("hr",null),r.a.createElement("span",{className:"extra_visibility"},"condition: ",a),r.a.createElement("hr",null),r.a.createElement("span",{className:"extra_pressure"},"pressure: ",n))};var k=function(){return new Promise(function(e,t){navigator.geolocation.getCurrentPosition(e,t)}).then(function(e){var t=e.coords;return{lat:t.latitude,lng:t.longitude}}).catch(function(e){return console.log(e)})},w=a(6),y=a.n(w);var N=function(e){return y.a.get("http://api.geonames.org/searchJSON?q=".concat(e,"&maxRows=1&username=likeran&featureClass=P")).then(function(e){if(0===e.data.totalResultsCount)return"there is no such city in our database";var t=e.data.geonames[0],a=t.lat,n=t.lng;return{lat:a,lng:n}})},x="https://api.apixu.com/v1/current.json",_="2d7ebdd87bcf48e9b7f184126192507";var j=function(e){var t={};return y.a.get("".concat(x,"?key=").concat(_,"&q=").concat(e.lat,",").concat(e.lng)).then(function(e){var a=e.data.location.name,n=e.data.current,r=n.temp_c,c=n.temp_f,i=n.humidity,s=n.pressure_mb,o=n.condition;return t.location={name:a,icon:o.icon,alt:"current ".concat(o.icon.substring(16,23)," in ").concat(a)},t.temp={temp_c:r,temp_f:c},t.extra={humidity:i,pressure:s,condition:o.text},t}).catch(function(e){return console.log("weather API: ".concat(e))})},O=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(f.a)(this,Object(p.a)(t).call(this))).heandleSearchValue=function(t){e.setState({searchTerm:t},e.getWeatherData)},e.state={weatherData:{},searchTerm:""},e}return Object(v.a)(t,e),Object(h.a)(t,[{key:"checkUserValue",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.searchTerm.length>0)){e.next=6;break}return e.next=3,N(this.state.searchTerm);case 3:t=e.sent,e.next=10;break;case 6:if(""!==this.state.searchTerm){e.next=10;break}return e.next=9,k();case 9:t=e.sent;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getWeatherData",value:function(){var e=Object(u.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkUserValue();case 2:if("string"!==typeof(t=e.sent)){e.next=7;break}this.setState({weatherData:{location:{name:t}}}),e.next=12;break;case 7:if("object"!==typeof t){e.next=12;break}return e.next=10,j(t);case 10:a=e.sent,this.setState({weatherData:a});case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getWeatherData()}},{key:"render",value:function(){var e=this.state.weatherData,t=e.location,a=e.temp,n=e.extra;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{onSearchChange:this.heandleSearchValue}),r.a.createElement(E,t),r.a.createElement(b,a),r.a.createElement(g,n))}}]),t}(r.a.Component);var C=function(){return r.a.createElement("main",null,r.a.createElement(O,null))};a(48);var D=function(){return r.a.createElement("footer",{className:"about"},r.a.createElement("span",{className:"about_author"},"\u24b8Like-ran"),r.a.createElement("div",{className:"about_links"},r.a.createElement("a",{className:"links_icon",href:"https://www.facebook.com/maksym.cherniaiev.9"},r.a.createElement("i",{className:"fab fa-facebook-square"})),r.a.createElement("a",{className:"links_icon",href:"https://www.linkedin.com/in/maksym-cherniaiev-382885174/"},r.a.createElement("i",{className:"fab fa-linkedin"})),r.a.createElement("a",{className:"links_icon",href:"https://github.com/Maksym-Cherniaiev"},r.a.createElement("i",{className:"fab fa-github-square"}))))};var S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s,null),r.a.createElement(C,null),r.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.b79180b5.chunk.js.map